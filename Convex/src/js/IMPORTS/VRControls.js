THREE.VRControls=function(t,i){var n,a,s=this,e=new THREE.Matrix4,o=null;"VRFrameData"in window&&(o=new VRFrameData),navigator.getVRDisplays&&navigator.getVRDisplays().then(function(t){a=t,t.length>0?n=t[0]:i&&i("VR input not available.")}).catch(function(){console.warn("THREE.VRControls: Unable to get VR Displays")}),this.scale=1,this.standing=!1,this.userHeight=1.6,this.getVRDisplay=function(){return n},this.setVRDisplay=function(t){n=t},this.getVRDisplays=function(){return console.warn("THREE.VRControls: getVRDisplays() is being deprecated."),a},this.getStandingMatrix=function(){return e},this.update=function(){var i;n&&(n.getFrameData?(n.getFrameData(o),i=o.pose):n.getPose&&(i=n.getPose()),null!==i.orientation&&t.quaternion.fromArray(i.orientation),null!==i.position?t.position.fromArray(i.position):t.position.set(0,0,0),this.standing&&(n.stageParameters?(t.updateMatrix(),e.fromArray(n.stageParameters.sittingToStandingTransform),t.applyMatrix(e)):t.position.setY(t.position.y+this.userHeight)),t.position.multiplyScalar(s.scale))},this.dispose=function(){n=null}};